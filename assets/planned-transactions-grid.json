{
  "mainGrid": {
    "columns": [
      {
        "field": "debitAccount",
        "header": "From Account",
        "type": "select",
        "editable": true,
        "required": true,
        "optionsSource": "accounts"
      },
      {
        "field": "creditAccount",
        "header": "To Account",
        "type": "select",
        "editable": true,
        "required": true,
        "optionsSource": "accounts"
      },
      {
        "field": "amount",
        "header": "Amount",
        "type": "number",
        "editable": true,
        "required": true,
        "default": 0
      },
      {
        "field": "description",
        "header": "Description",
        "type": "text",
        "editable": true
      },
      {
        "field": "recurrence",
        "header": "Recurrence",
        "type": "modal",
        "editable": true,
        "modal": "recurrenceModal",
        "visibleWhen": "scenario.type.name IN ['General', 'Funds']"
      },
      {
        "field": "amountChange",
        "header": "Amount Change",
        "type": "modal",
        "editable": true,
        "modal": "amountChangeModal",
        "visibleWhen": "scenario.type.name IN ['General', 'Funds']"
      },
      {
        "field": "tags",
        "header": "Tags",
        "type": "tags",
        "editable": true
      }
    ],
    "actions": {
      "add": true,
      "edit": true,
      "delete": true,
      "save": true
    }
  },
  "recurrenceModal": {
    "title": "Recurrence Settings",
    "columns": [
      {
        "field": "recurrenceType",
        "header": "Recurrence Type",
        "type": "select",
        "editable": true,
        "optionsSource": "recurrenceTypes",
        "default": "Monthly - Day of Month"
      },
      {
        "field": "startDate",
        "header": "Start Date",
        "type": "date",
        "editable": true,
        "required": true
      },
      {
        "field": "endDate",
        "header": "End Date",
        "type": "date",
        "editable": true
      },
      {
        "field": "interval",
        "header": "Interval",
        "type": "number",
        "editable": true,
        "default": 1,
        "visibleWhen": "recurrence.recurrenceType IN ['Daily', 'Weekly']"
      },
      {
        "field": "dayOfWeek",
        "header": "Day of Week",
        "type": "select",
        "editable": true,
        "optionsSource": "daysOfWeek",
        "visibleWhen": "recurrence.recurrenceType == 'Weekly'"
      },
      {
        "field": "dayOfMonth",
        "header": "Day of Month",
        "type": "number",
        "editable": true,
        "default": 1,
        "visibleWhen": "recurrence.recurrenceType == 'Monthly - Day of Month'"
      },
      {
        "field": "weekOfMonth",
        "header": "Week of Month",
        "type": "select",
        "editable": true,
        "optionsSource": "weeksOfMonth",
        "visibleWhen": "recurrence.recurrenceType == 'Monthly - Week of Month'"
      },
      {
        "field": "dayOfWeekInMonth",
        "header": "Day of Week",
        "type": "select",
        "editable": true,
        "optionsSource": "daysOfWeek",
        "visibleWhen": "recurrence.recurrenceType == 'Monthly - Week of Month'"
      },
      {
        "field": "dayOfQuarter",
        "header": "Day of Quarter (1-92)",
        "type": "number",
        "editable": true,
        "default": 1,
        "visibleWhen": "recurrence.recurrenceType == 'Quarterly'"
      },
      {
        "field": "month",
        "header": "Month",
        "type": "select",
        "editable": true,
        "optionsSource": "months",
        "visibleWhen": "recurrence.recurrenceType == 'Yearly'"
      },
      {
        "field": "dayOfYear",
        "header": "Day",
        "type": "number",
        "editable": true,
        "default": 1,
        "visibleWhen": "recurrence.recurrenceType == 'Yearly'"
      },
      {
        "field": "customDates",
        "header": "Custom Dates (comma-separated)",
        "type": "text",
        "editable": true,
        "visibleWhen": "recurrence.recurrenceType == 'Custom Dates'"
      }
    ]
  },
  "amountChangeModal": {
    "title": "Amount Change Settings",
    "columns": [
      {
        "field": "changeType",
        "header": "Change Type",
        "type": "select",
        "editable": true,
        "optionsSource": "periodicChangeTypes",
        "default": "Nominal Annual"
      },
      {
        "field": "rate",
        "header": "Rate (%)",
        "type": "number",
        "editable": true,
        "default": 0
      },
      {
        "field": "frequency",
        "header": "Frequency",
        "type": "select",
        "editable": true,
        "optionsSource": "frequencies",
        "visibleWhen": "amountChange.changeType == 'Custom'",
        "default": "Monthly"
      }
    ]
  },
  "recurrenceTypes": [
    { "id": 1, "name": "One Time" },
    { "id": 2, "name": "Daily" },
    { "id": 3, "name": "Weekly" },
    { "id": 4, "name": "Monthly - Day of Month" },
    { "id": 5, "name": "Monthly - Week of Month" },
    { "id": 6, "name": "Quarterly" },
    { "id": 7, "name": "Yearly" },
    { "id": 8, "name": "Custom Dates" }
  ],
  "daysOfWeek": [
    { "id": 1, "name": "Monday" },
    { "id": 2, "name": "Tuesday" },
    { "id": 3, "name": "Wednesday" },
    { "id": 4, "name": "Thursday" },
    { "id": 5, "name": "Friday" },
    { "id": 6, "name": "Saturday" },
    { "id": 7, "name": "Sunday" }
  ],
  "weeksOfMonth": [
    { "id": 1, "name": "1st" },
    { "id": 2, "name": "2nd" },
    { "id": 3, "name": "3rd" },
    { "id": 4, "name": "4th" },
    { "id": -1, "name": "Last" }
  ],
  "months": [
    { "id": 1, "name": "January" },
    { "id": 2, "name": "February" },
    { "id": 3, "name": "March" },
    { "id": 4, "name": "April" },
    { "id": 5, "name": "May" },
    { "id": 6, "name": "June" },
    { "id": 7, "name": "July" },
    { "id": 8, "name": "August" },
    { "id": 9, "name": "September" },
    { "id": 10, "name": "October" },
    { "id": 11, "name": "November" },
    { "id": 12, "name": "December" }
  ],
  "periodicChangeTypes": [
    { "id": 1, "name": "Nominal Annual" },
    { "id": 2, "name": "Monthly Compounded" },
    { "id": 3, "name": "Daily Compounded" },
    { "id": 4, "name": "Quarterly Compounded" },
    { "id": 5, "name": "Annual Compounded" },
    { "id": 6, "name": "Continuous" },
    { "id": 7, "name": "Custom" }
  ],
  "frequencies": [
    { "id": 1, "name": "Daily" },
    { "id": 2, "name": "Weekly" },
    { "id": 3, "name": "Monthly" },
    { "id": 4, "name": "Quarterly" },
    { "id": 5, "name": "Yearly" }
  ]
}
