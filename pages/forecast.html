<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Forecast</title>
    <link rel="stylesheet" href="../styles/app.css">
    <script src="https://cdn.jsdelivr.net/npm/decimal.js/decimal.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
</head>
<body class="dark">
<div class="container">
  <div id="main-navbar"></div>
  <!--#include partials/navbar.html -->
  <h1>Financial Forecast</h1>
  <div class="input-section" id="panel-settings">
      <div class="panel-header" onclick="toggleAccordion('panel-settings')">
          <h2>Forecast Settings</h2>
          <span class="panel-arrow">&#9662;</span>
      </div>
      <div class="panel-content">
          <div class="desc">Choose how to run your forecast: by date range, by number of periods, or in timeless mode (just N periods, no dates).</div>
          <form id="settingsForm" class="form-inline">
              <label for="mode">Mode</label>
              <select id="mode">
                  <option value="daterange">Between Dates</option>
                  <option value="periods">Number of Periods</option>
                  <option value="timeless">Timeless (just N periods)</option>
              </select>
              <span id="dateFields">
                  <label for="start_date">Start Date</label>
                  <input type="date" id="start_date">
                  <label for="end_date">End Date</label>
                  <input type="date" id="end_date">
              </span>
              <span id="periodFields" style="display:none;">
                  <label for="period_count">Periods</label>
                  <input type="number" id="period_count" value="12" min="1" step="1">
              </span>
              <span id="periodTypeFields">
                  <label for="period_type">Period Type</label>
                  <select id="period_type">
                      <option value="day">Day</option>
                      <option value="week">Week (7 days, no break)</option>
                      <option value="week-break">Week (break on month)</option>
                      <option value="month">Month</option>
                      <option value="quarter">Quarter</option>
                      <option value="year">Year</option>
                  </select>
              </span>
              <button type="button" id="runForecastBtn">Run Forecast</button>
          </form>
      </div>
  </div>
  <div class="results-section" id="panel-results">
      <div class="panel-header" onclick="toggleAccordion('panel-results')">
          <h2>Results Table</h2>
          <span class="panel-arrow">&#9662;</span>
      </div>
      <div class="panel-content">
          <div id="resultsTableDiv"></div>
      </div>
  </div>
  <div class="chart-section" id="panel-chart">
      <div class="panel-header" onclick="toggleAccordion('panel-chart')">
          <h2>Account Balances Over Time</h2>
          <span class="panel-arrow">&#9662;</span>
      </div>
      <div class="panel-content">
          <div id="financialChart"></div>
      </div>
  </div>
</div>
<script src="../js/forecast-storage.js"></script>
<script src="../js/default-data.js"></script>
<script src="../js/data-startup.js"></script>
<script src="../js/forecast.js"></script>
<script src="../js/navbar.js"></script>
</body>
</html>
