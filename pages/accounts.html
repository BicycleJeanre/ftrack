<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accounts | Financial Simulation</title>
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext x='-5' y='90' font-size='100'%3E%24%3C/text%3E%3C/svg%3E" type="image/svg+xml">
    <link rel="stylesheet" href="../styles/app.css">
    <script src="../js/forecast-storage.js"></script>
    <script src="../js/default-data.js"></script>
    <script src="../js/data-startup.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/decimal.js/decimal.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
    <script src="../js/accounts.js"></script>
    <script src="../js/navbar.js"></script>
</head>
<body class="dark">
    <div class="container">
        <div id="main-navbar"></div>
        <!-- Accounts Section Partial -->
        <div class="input-section" id="panel-accounts">
            <div class="panel-header" onclick="toggleAccordion('panel-accounts')">
                <h2>Accounts</h2>
                <span class="panel-arrow">&#9662;</span>
            </div>
            <div class="panel-content">
                <div class="desc">Add one or more accounts. Each account can have a starting balance and an interest rate (applied each period).</div>
                <form id="accountForm" class="form-inline">
                    <label for="acct_name">Name</label>
                    <input type="text" id="acct_name" required placeholder="e.g. Checking">
                    <label for="acct_balance">Starting Balance</label>
                    <input type="number" id="acct_balance" required placeholder="e.g. 1000">
                    <button type="submit">Add/Update</button>
                </form>
                <div class="account-list">
                    <table id="accountsTable">
                        <thead>
                            <tr><th>Name</th><th>Start Balance</th><th>Interest %</th><th>Actions</th></tr>
                        </thead>
                        <tbody>
                            <!-- Account rows will be dynamically generated by JS. Each row should include an 'Add/Edit Interest' button in the Actions column. -->
                        </tbody>
                    </table>
                </div>
                <!-- Interest Settings Modal -->
                <div id="interestModal" class="modal" style="display:none;">
                    <div class="modal-content">
                        <span class="close" id="closeInterestModal">&times;</span>
                        <h3>Interest Settings</h3>
                        <form id="interestForm">
                            <label for="modal_acct_interest">Interest Rate</label>
                            <input type="number" id="modal_acct_interest" value="0" step="0.01" placeholder="e.g. 0.5">
                            <label for="modal_acct_interest_period">Interest Rate Period</label>
                            <select id="modal_acct_interest_period">
                                <option value="year">per Year</option>
                                <option value="quarter">per Quarter</option>
                                <option value="month">per Month</option>
                                <option value="week">per Week</option>
                                <option value="day">per Day</option>
                            </select>
                            <label for="modal_acct_compound_period">Compounding Period</label>
                            <select id="modal_acct_compound_period">
                                <option value="year">Yearly</option>
                                <option value="quarter">Quarterly</option>
                                <option value="month">Monthly</option>
                                <option value="week">Weekly</option>
                                <option value="day">Daily</option>
                            </select>
                            <label for="modal_acct_interest_type">Interest Type</label>
                            <select id="modal_acct_interest_type">
                                <option value="simple">Simple</option>
                                <option value="compound">Compound</option>
                            </select>
                            <div class="modal-actions">
                                <button type="button" id="saveInterestBtn">Save</button>
                                <button type="button" id="cancelInterestBtn">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
