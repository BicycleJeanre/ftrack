{
  "version": "1.0.0",
  "seed": 893214,
  "description": "Golden expected outputs for QC dataset validation. Values are checked with 0.01 tolerance for currency amounts.",
  "scenarios": [
    {
      "id": 2,
      "name": "QC Scenario",
      "expectedOutputs": {
        "accountCount": 1,
        "transactionCount": 0,
        "projectionCount": 11,
        "budgetCount": 0,
        "firstProjection": {
          "date": "2026-02-01",
          "accountId": 1,
          "balance": 10000.00,
          "income": 0,
          "expenses": 0,
          "netChange": 0
        },
        "lastProjection": {
          "date": "2026-12-01",
          "accountId": 1,
          "balance": 10000.00,
          "income": 0,
          "expenses": 0,
          "netChange": 0
        },
        "totalBalanceFirst": 10000.00,
        "totalBalanceLast": 10000.00
      }
    },
    {
      "id": 3,
      "name": "QC Scenario (Copy)",
      "expectedOutputs": {
        "accountCount": 14,
        "transactionCount": 3,
        "projectionCount": 154,
        "budgetCount": 20,
        "firstProjection": {
          "date": "2026-02-01",
          "accountId": 1,
          "balance": 19507.59,
          "tolerance": 0.01
        },
        "lastProjection": {
          "date": "2026-12-01",
          "accountId": 14,
          "balance": 0,
          "tolerance": 0.01
        },
        "accountBalances": {
          "A1": {
            "openDate": "2026-02-01",
            "startingBalance": 10000.00,
            "firstProjectionBalance": 19507.59,
            "periodicChange": {
              "value": 6,
              "changeMode": 1,
              "changeType": 2
            }
          }
        }
      }
    }
  ],
  "functionTests": {
    "periodicChange": [
      {
        "description": "No periodic change returns principal",
        "principal": 10000,
        "periodicChange": null,
        "periods": 1,
        "expected": 10000
      },
      {
        "description": "Simple interest (no compounding)",
        "principal": 10000,
        "periodicChange": {
          "value": 6,
          "changeMode": { "id": 1, "name": "Percentage Rate" },
          "changeType": { "id": 1, "name": "Nominal Annual (No Compounding)" }
        },
        "periods": 1,
        "expected": 10600,
        "tolerance": 0.01
      },
      {
        "description": "Monthly compounding",
        "principal": 10000,
        "periodicChange": {
          "value": 6,
          "changeMode": { "id": 1, "name": "Percentage Rate" },
          "changeType": { "id": 2, "name": "Nominal Annual, Compounded Monthly" }
        },
        "periods": 1,
        "expected": 10616.78,
        "tolerance": 0.01
      },
      {
        "description": "Daily compounding",
        "principal": 10000,
        "periodicChange": {
          "value": 6,
          "changeMode": { "id": 1, "name": "Percentage Rate" },
          "changeType": { "id": 3, "name": "Nominal Annual, Compounded Daily" }
        },
        "periods": 1,
        "expected": 10618.31,
        "tolerance": 0.01
      },
      {
        "description": "Quarterly compounding",
        "principal": 10000,
        "periodicChange": {
          "value": 6,
          "changeMode": { "id": 1, "name": "Percentage Rate" },
          "changeType": { "id": 4, "name": "Nominal Annual, Compounded Quarterly" }
        },
        "periods": 1,
        "expected": 10613.64,
        "tolerance": 0.01
      },
      {
        "description": "Annual compounding",
        "principal": 10000,
        "periodicChange": {
          "value": 6,
          "changeMode": { "id": 1, "name": "Percentage Rate" },
          "changeType": { "id": 5, "name": "Nominal Annual, Compounded Annually" }
        },
        "periods": 1,
        "expected": 10600,
        "tolerance": 0.01
      },
      {
        "description": "Fixed amount monthly",
        "principal": 10000,
        "periodicChange": {
          "value": 100,
          "changeMode": { "id": 2, "name": "Fixed Amount" },
          "period": { "id": 3, "name": "Monthly" }
        },
        "periods": 1,
        "expected": 11200,
        "tolerance": 0.01
      }
    ],
    "recurrenceDates": [
      {
        "description": "One time recurrence",
        "recurrence": {
          "recurrenceType": { "id": 1, "name": "One Time" },
          "startDate": "2026-02-15"
        },
        "projectionStart": "2026-02-01",
        "projectionEnd": "2026-12-01",
        "expectedCount": 1,
        "expectedFirstDate": "2026-02-15"
      },
      {
        "description": "Daily recurrence",
        "recurrence": {
          "recurrenceType": { "id": 2, "name": "Daily" },
          "startDate": "2026-02-01",
          "interval": 1
        },
        "projectionStart": "2026-02-01",
        "projectionEnd": "2026-02-07",
        "expectedCount": 7,
        "expectedFirstDate": "2026-02-01",
        "expectedLastDate": "2026-02-07"
      },
      {
        "description": "Weekly recurrence",
        "recurrence": {
          "recurrenceType": { "id": 3, "name": "Weekly" },
          "startDate": "2026-02-01",
          "interval": 1,
          "dayOfWeek": { "id": 1, "name": "Monday" }
        },
        "projectionStart": "2026-02-01",
        "projectionEnd": "2026-03-01",
        "expectedCount": 4
      },
      {
        "description": "Monthly day of month recurrence",
        "recurrence": {
          "recurrenceType": { "id": 4, "name": "Monthly - Day of Month" },
          "startDate": "2026-02-01",
          "dayOfMonth": 15
        },
        "projectionStart": "2026-02-01",
        "projectionEnd": "2026-05-01",
        "expectedCount": 3,
        "expectedFirstDate": "2026-02-15"
      }
    ],
    "dateUtils": [
      {
        "description": "formatDateOnly handles Date objects",
        "function": "formatDateOnly",
        "input": "2026-02-15T10:30:00Z",
        "expected": "2026-02-15"
      },
      {
        "description": "parseDateOnly returns local midnight",
        "function": "parseDateOnly",
        "input": "2026-02-15",
        "expectedYear": 2026,
        "expectedMonth": 1,
        "expectedDate": 15
      }
    ],
    "getNthWeekdayOfMonth": [
      {
        "description": "First Monday of Feb 2026",
        "date": "2026-02-01",
        "weekday": 1,
        "n": 1,
        "expected": "2026-02-02"
      },
      {
        "description": "Third Friday of Feb 2026",
        "date": "2026-02-01",
        "weekday": 5,
        "n": 3,
        "expected": "2026-02-20"
      },
      {
        "description": "Last Friday of Feb 2026",
        "date": "2026-02-01",
        "weekday": 5,
        "n": -1,
        "expected": "2026-02-27"
      }
    ]
  }
}
